## 基础概念

基本流程及相关概念


### 什么是 iOS 开发？

在 Web 开发中，我们知道 Web 是大部分运行在浏览器内的网页。而网页的本质是展示信息，为了达到展示这些信息的目的，我们需要根据相关的标准与技术来进行开发。其中 HTML「超文本标记语言」用于描述网页的元素结构；CSS「层叠式样式表」用于制定网页的样式；而JS「javascript 脚本语言」致力控制网页行为。这三部分构成了一个完善的前端页面，他们仨你中有我我中有你。

那么对应的，iOS 开发指什么呢？首先让我们想想 App「应用」和网页有什么异同。

* 他们都为展示信息而服务，只不过所依托的平台有所差异。网页依托于浏览器，而 App 依托于操作系统。
* 我们知道 App 和网页是可以交互的。在网页内可以打开 App 的跳转链接；在 App 内也可以输入网站地址查看各种网页。
* 我们知道现代化的网页可以进行很多操作「例如上传图片，即时聊天，视频通话等」，而这些功能以前只能在特定的 App 才提供实现。就拿微信 App 来说，电脑版的微信可以实现绝大部分手机版微信的功能。部分与操作系统底层打交道的功能暂时没有提供网页版的实现「例如语音通话，文件图片编辑」。所有有一种说法是网页是存在于浏览器内的 App，有人称现代化的网页为 Web App。

我们思考了一下什么是网页，什么又是 App，抛开背后的实现技术来看，在我看来两者最大的区别就是依托的平台不一样而已。

我们知道有一种叫映射的数据结构「JS 中的对象」，而 Web 开发和 iOS 开发之间就存在这样的映射关系。当然我作为一个 Web 开发者在学习其他平台开发的时候自然会挪用套接以前学过的知识作知识的迁移。所以在接下来的学习中，我会尽可能用 Web 开发中的概念来映射 iOS 中的相关概念。


我们说 Web 是由结构样式逻辑组合而成，那么一个 App 是由什么组成的？ App 中一定也存在相应的组成吧？！你别说，还真的有。我基本梳理如下：

JS --> Swift

HTML、CSS --> Cocoa Touch


所以当你学会了 Swift 语法以为可以开发 App 了，兴冲冲打开 Xcode 准备大干一场时，才发现无从下手的情景就像掌握了 JS 就开始写网页一样 -- 还差得远呢

但是 iOS 开发确实不是和 Web 开发一样的可以分出清晰的 HTML、CSS、JS 这几部分的文件逻辑。因为所有的 UI 都可以在一个 **.swift** 文件中操作，所以有很多教程都是在学习 swift 的同时来进行 iOS 开发。这就像我们在 Web 中开发 React 的单页面应用一样，「All in JS 转换为 All in Swift」。在 iOS 开发中，所有的逻辑都可以在  **.swift**  的文件内进行。

那么相应的我们在  **.swift**  中获取页面元素，绑定各种事件，监听页面周期等等。我们也可以在页面开头引入各种框架「iOS 中的各类组件如图片、视频、储存等功能类都依靠相应的框架来提供。这就像我们 import 各类组件一样」。而 iOS 中称这些 “组件” 为框架，有基础的 fundation、UIKit，也有高级的 AR、视频处理等框架。显然从这些提供的功能可以看出，iOS 可操作的功能也更底层，更接近于硬件本身。


既然都是用于呈现信息，我们就从最外面的表现层学起，一步步抽丝剥茧掌握 iOS 的开发。在 Web 中我们叫它 UI，在 App 中它也叫 UI。只不过这里的 UI 展示在 Xcode 中。


### iOS 中的 UI

如果你事先了解过 iOS 开发就知道 iOS 目前鼓励人们使用 autoLayout 来进行界面布局，这种所见即所得的布局技术让我一直很困惑，起初我一直以为 iOS 的界面开发必须使用这种“傻瓜式”的方式，后来我才发现这仅仅是 iOS 布局中的一种。其实 iOS 也支持 “All in JS” 的方式来进行开发，甚至还有类似与开发 Web 一样开发界面的框架。所以如果你已经接触过 autoLayout 并对其中的手动设定约束、设定各种属性感到困惑的话，千万别害怕。揭开 iOS UI 布局的面纱后你会发现 iOS 中的 UI 布局甚至比 Web 开发还要灵活。无论是 “template”还是 “All in JS”，它全部支持，你甚至可以像开发安卓 App 一样用 xml 文件来布局。

这就是 iOS UI 布局的秘密，对于一般的初学者来说，会首先推荐 autoLayout 的学习，但是对于一个 Web 开发者来说，相信你不用五分钟就能通过 autoLayout 搭出一个 UI 界面来。这东西很 “傻瓜” 更像是给那些不懂代码的人员来用的。但是对于常年写 UI 的你来说，你知道 UI 不仅仅是能看就行吧？！是的，我想你知道由 React 带来的 “All in JS” 思想，如果你写 React 的话，相信你更明白 “All in JS” 到底意味着什么。

在 iOS 开发中苹果提供给我们更多的选择余地，我们既可以使用拖动式的 autoLayout 布局也可以使用 “All in Swift” 的方式来完成 UI 界面开发，更可以像开发安卓 App 一样使用 xml 来布局。

### iOS 中的 “JS”

还记得你第一次学习 Web 开发时是怎么编写一个网页的吗？我记得我第一次写网页是用记事本写的一个**p**标签，大概的这样写的

````html
<p>hello world</p>
````

然后保存这个文件为 **html** 文件，并在浏览器内打开。然后我学习了更多的“元素”：**div、h1~h6、span、section、main、header、footer** ，然后我可以制作出大部分的网页了，但是这全是静态的，是不可以交互的。你必须使用 JS 和 CSS 才能让你的网页动起来。我知道你一定知道我在说什么，而且是开发了这么多年 Web 页面后，我想你更加意识到 JS 的重要性。毫无疑问，iOS 中的“JS” 目前就是 Swift （当然也可以是OC、C、C++）。

同样的，我们可以用 JS 在 Web 中干的活 Swift 也可以。在前面的 UI 部分我们说过，“All in JS” 的开发方式在 iOS 开发中同样存在，而且还是天然支持的。

你现在可能在想如果是 autoLayout 开发完 UI，我们在哪里写 **script** 呢？如何把脚本引入呢？在 iOS 开发中我们通过 **link** 来外嵌一个 JS 脚本，在 iOS 都不用写一行代码就可以为一个 storyBoard 关联一个 Swift 文件。


### iOS 开发架构

MVC、MVVM、MVP？说起 Web 架构，不得不提起 AngularJS，在前端开发中本来是没有架构一说的，所有的页面都可以是 **html、css、js**这些文件的集合，在当年随着 **Ajax** 横空出世，我们发现前端页面越来越复杂，传统的开发方式无法应对大规模频繁的 DOM 变动，也无法有效的分离关注点，所以 Google 率先发 MVC 的架构移植到前端开发中，从此前端也有了模版、模型、控制器。

而在 iOS 开发中，它是天然的 MVC。

很显然一个页面是由数据、UI、业务逻辑组成的，不论你以什么样的文件形式来组织它。所以这种架构可以在前端后端通用，对此我想说的是，无论MVC、MVVM、MVP 









